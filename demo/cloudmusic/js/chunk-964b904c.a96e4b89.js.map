{"version":3,"sources":["webpack:///./src/views/Recommend.vue","webpack:///./src/components/Recommend/recommendList.vue","webpack:///./src/components/Recommend/recommendList.vue?0c2d","webpack:///./src/views/Recommend.vue?86c5","webpack:///./src/components/Recommend/recommendList.vue?5aa8","webpack:///./src/views/Recommend.vue?be3d"],"names":["class","style","dailySongs","al","picUrl","isColor","$router","go","num","today","month","ref","aria-hidden","xlink:href","offset-top","setAllPlay","handleGetUrlOne","length","item","index","key","setPlayIndex","handleGetUrl","id","src","lazy","nowPlay","name","ar","mv","props","computed","mounted","window","addEventListener","this","handleScrollx","beforeUnmount","removeEventListener","methods","$refs","playListTop","getBoundingClientRect","top","$parent","changeColor","$store","dispatch","showList","__exports__","components","recommendList","data","$nextTick","reqRecommend","getMonth","result","state","playlist","commit","format","value","render"],"mappings":"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","file":"js/chunk-964b904c.a96e4b89.js","sourcesContent":["<template>\r\n  <div class=\"recommend\">\r\n    <!-- 模糊背景  -->\r\n    <div class=\"bg-big\">\r\n      <div class=\"bg\" :style=\"{ backgroundImage: `url(${dailySongs[0].al.picUrl})` }\"></div>\r\n    </div>\r\n    <!-- 头部返回栏 -->\r\n    <div :class=\"isColor ? 'recommendTop color' : 'recommendTop'\">\r\n      <span class=\"iconfont icon-zuo\" @click=\"$router.go(-1)\"></span>\r\n      <span v-show=\"isColor\">今日推荐</span>\r\n      <span class=\"iconfont icon-gengduo\"></span>\r\n    </div>\r\n    <!-- 背景内容 -->\r\n    <div class=\"recommendDay\">\r\n      <span>{{ num(today) }}</span>\r\n      <span>/ {{ month }}</span>\r\n      <p>今日推荐</p>\r\n    </div>\r\n    <!-- 播放列表 -->\r\n    <div class=\"recommendList\">\r\n      <recommend-list :dailySongs=\"dailySongs\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport recommendList from \"@/components/Recommend/recommendList\"\r\n\r\nimport { getRecommend } from \"@/tools/request\"\r\n\r\nimport moment from \"moment\"\r\nexport default {\r\n  name: \"recommend\",\r\n  components: {\r\n    recommendList,\r\n  },\r\n  data () {\r\n    return {\r\n      // 每日推荐歌曲列表\r\n      dailySongs: [{ al: \"\" }],\r\n      month: \"\",\r\n      today: \"\",\r\n      // 标题是否变色\r\n      isColor: false,\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this.reqRecommend()\r\n      this.getMonth()\r\n    })\r\n  },\r\n  methods: {\r\n    num (num) {\r\n      if (num < 10) {\r\n        return \"0\" + num\r\n      } else {\r\n        return num\r\n      }\r\n    },\r\n    // 获取每日推荐歌曲列表\r\n    async reqRecommend () {\r\n      let result = await getRecommend()\r\n      this.dailySongs = result.data.data.dailySongs\r\n      this.$store.state.playlist = this.dailySongs\r\n      this.$store.commit(\"setPlaylist\", this.$store.state.playlist)\r\n    },\r\n    // 获取月份天数\r\n    getMonth () {\r\n      this.month = moment().format(\"M\")\r\n      this.today = moment().format(\"D\")\r\n    },\r\n    // 改变标题颜色\r\n    changeColor (value) {\r\n      this.isColor = value\r\n    },\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.color {\r\n  color: #000 !important;\r\n  background-color: #fff;\r\n}\r\n.recommend {\r\n  width: 7.5rem;\r\n  height: 100vh;\r\n  background-color: #fff;\r\n  overflow-x: hidden;\r\n  padding-bottom: 0.3rem;\r\n  .bg-big {\r\n    overflow: hidden;\r\n    transform: scale(1.5);\r\n    -webkit-transform: scale(1.5);\r\n  }\r\n  .bg {\r\n    position: relative;\r\n    top: 0;\r\n    left: 0;\r\n    width: 7.5rem;\r\n    height: 4rem;\r\n    background-size: cover;\r\n    filter: blur(6px) brightness(93%);\r\n    -webkit-filter: blur(6px) brightness(93%);\r\n  }\r\n  .recommendTop {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 7.5rem;\r\n    height: 1rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 0.3rem;\r\n    transition: all 0.3s;\r\n    z-index: 3;\r\n    color: #fff;\r\n    .iconfont {\r\n      font-size: 0.4rem;\r\n    }\r\n    .icon-fenxiang {\r\n      font-size: 0.45rem;\r\n    }\r\n  }\r\n  .recommendDay {\r\n    position: relative;\r\n    top: -1rem;\r\n    left: 0.5rem;\r\n    color: #fff;\r\n    :first-child {\r\n      font-size: 0.7rem;\r\n    }\r\n    :last-child {\r\n      position: absolute;\r\n      bottom: -20px;\r\n      left: 0;\r\n      font-size: 0.27rem;\r\n    }\r\n  }\r\n  .recommendList {\r\n    position: relative;\r\n    top: -20px;\r\n    background-color: #fff;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"playListView\">\r\n    <van-sticky :offset-top=\"50\">\r\n      <div class=\"playListTop\" ref=\"playListTop\">\r\n        <div class=\"left\" @click=\"setAllPlay(), handleGetUrlOne()\">\r\n          <svg class=\"icon\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-bofang\" />\r\n          </svg>\r\n          <p>播放全部</p>\r\n          <span v-if=\"dailySongs\">({{ dailySongs.length }})</span>\r\n        </div>\r\n        <div class=\"right\">\r\n          <div>\r\n            <span class=\"iconfont icon-icon_xinyong_xianxing_jijin-221\"></span>\r\n          </div>\r\n          <span class=\"iconfont icon-xuanzhong\"></span>\r\n        </div>\r\n      </div>\r\n    </van-sticky>\r\n    <div class=\"playList\">\r\n      <div\r\n        class=\"playListItem\"\r\n        v-for=\"(item, index) in dailySongs\"\r\n        :key=\"index\"\r\n        @click=\"setPlayIndex({ item, index });handleGetUrl(item.id)\"\r\n      >\r\n        <div class=\"demo-image__lazy\">\r\n          <el-image :src=\"item.al.picUrl\" lazy></el-image>\r\n        </div>\r\n        <div class=\"detail\">\r\n          <p :class=\"nowPlay.id == item.id ? 'name isActive' : 'name'\">{{ item.name }}</p>\r\n          <p class=\"author\">\r\n            <span v-if=\"item.name\">{{ item.ar[0].name }}</span>\r\n            - {{ item.al.name }}\r\n          </p>\r\n        </div>\r\n        <div class=\"rightIcon\">\r\n          <span v-if=\"item.mv != 0\" class=\"iconfont icon-a-shipinti1beifen3\"></span>\r\n          <span class=\"iconfont icon-gengduo\"></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapMutations, mapState } from \"vuex\"\r\n\r\nexport default {\r\n  name: \"recommendList\",\r\n  props: [\"dailySongs\"],\r\n  computed: {\r\n    ...mapState([\"nowPlay\", \"showList\"]),\r\n  },\r\n  mounted () {\r\n    window.addEventListener(\"scroll\", this.handleScrollx, true)\r\n  },\r\n  beforeUnmount () {\r\n    window.removeEventListener(\"scroll\", this.handleScrollx, true)\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"setPlayIndex\", \"setMusicPlayFalse\", \"setAllPlay\"]),\r\n    handleScrollx () {\r\n      if (this.$refs.playListTop.getBoundingClientRect().top < 51) {\r\n        this.$parent.changeColor(true)\r\n      } else {\r\n        this.$parent.changeColor(false)\r\n      }\r\n    },\r\n    // 点击获取播放歌曲url\r\n    handleGetUrl (id) {\r\n      this.$store.dispatch(\"reqLyric\", id)\r\n      this.$store.dispatch(\"reqSongUrl\", id)\r\n    },\r\n    handleGetUrlOne () {\r\n      this.$store.dispatch(\"reqLyric\", this.showList[0].id)\r\n      this.$store.dispatch(\"reqSongUrl\", this.showList[0].id)\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.isActive {\r\n  color: #dd3930 !important;\r\n}\r\n.playListView {\r\n  margin: 0 0.2rem;\r\n  background-color: #fff;\r\n}\r\n.playListTop {\r\n  position: relative;\r\n  left: -0.2rem;\r\n  width: 7.5rem;\r\n  height: 1rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background-color: #fff;\r\n  padding: 0.2rem;\r\n  .left {\r\n    display: flex;\r\n    align-items: flex-end;\r\n    svg {\r\n      color: #ea443b;\r\n      width: 0.4rem;\r\n      height: 0.4rem;\r\n    }\r\n    p {\r\n      font-size: 15px;\r\n      font-weight: bold;\r\n      letter-spacing: 2px;\r\n      margin: 0 0.1rem 0 0.15rem;\r\n    }\r\n    span {\r\n      font-size: 12px;\r\n      color: #999;\r\n    }\r\n  }\r\n  .right {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: flex-end;\r\n    span {\r\n      font-size: 0.33rem;\r\n      margin: 0 0.1rem 0 0.4rem;\r\n    }\r\n  }\r\n}\r\n.playList {\r\n  .playListItem:first-child {\r\n    margin-top: 0.1rem;\r\n  }\r\n  .playListItem:last-child {\r\n    margin: 0.4rem 0 !important;\r\n  }\r\n  .playListItem {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 0.3rem;\r\n    .el-image {\r\n      width: 0.8rem;\r\n      height: 0.8rem;\r\n      border-radius: 7px;\r\n      margin: 0 0.2rem 0 0.1rem;\r\n    }\r\n    .detail {\r\n      flex: 15;\r\n      .name {\r\n        max-width: 260px;\r\n        font-size: 0.28rem;\r\n        color: #333;\r\n        overflow: hidden;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 1;\r\n        -webkit-box-orient: vertical;\r\n      }\r\n      .author {\r\n        max-width: 85%;\r\n        font-size: 12px;\r\n        color: #999;\r\n        white-space: normal;\r\n        overflow: hidden;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 1;\r\n        -webkit-box-orient: vertical;\r\n      }\r\n    }\r\n    .rightIcon {\r\n      color: #999;\r\n      span {\r\n        margin: 0 0.1rem 0 0.3rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./recommendList.vue?vue&type=template&id=7a7ad61f&scoped=true\"\nimport script from \"./recommendList.vue?vue&type=script&lang=js\"\nexport * from \"./recommendList.vue?vue&type=script&lang=js\"\n\nimport \"./recommendList.vue?vue&type=style&index=0&id=7a7ad61f&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\Vue\\\\vue3.0\\\\cloudMusic\\\\cloud-music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7a7ad61f\"]])\n\nexport default __exports__","import { render } from \"./Recommend.vue?vue&type=template&id=b252986c&scoped=true\"\nimport script from \"./Recommend.vue?vue&type=script&lang=js\"\nexport * from \"./Recommend.vue?vue&type=script&lang=js\"\n\nimport \"./Recommend.vue?vue&type=style&index=0&id=b252986c&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\Vue\\\\vue3.0\\\\cloudMusic\\\\cloud-music\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b252986c\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./recommendList.vue?vue&type=style&index=0&id=7a7ad61f&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Recommend.vue?vue&type=style&index=0&id=b252986c&lang=less&scoped=true\""],"sourceRoot":""}